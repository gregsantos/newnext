{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/Users/GMS/Dev/next/newnext/pages/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport styled from 'styled-components';\nimport Head from '../components/head';\nimport Nav from '../components/nav';\nvar Title = styled.h1.withConfig({\n  displayName: \"pages__Title\",\n  componentId: \"sc-14o124c-0\"\n})([\"font-size:50px;color:\", \";\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.colors.primary;\n});\n\nvar Index = function Index(_ref2) {\n  var users = _ref2.users;\n\n  var _useState = useState(null),\n      date = _useState[0],\n      setDate = _useState[1];\n\n  useEffect(function () {\n    function getDate() {\n      var res, newDate;\n      return _regeneratorRuntime.async(function getDate$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(fetch('/api/date'));\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(res.json());\n\n            case 5:\n              newDate = _context.sent;\n              setDate(newDate);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n\n    getDate();\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-3153929447\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, __jsx(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"WU TANG \\u267E\\uFE0F\"), __jsx(Link, {\n    href: \"/todos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    className: \"jsx-3153929447\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Todos Page\")), __jsx(\"p\", {\n    className: \"jsx-3153929447\" + \" \" + 'row date',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"The date is:\\xA0\", ' ', date ? __jsx(\"span\", {\n    className: \"jsx-3153929447\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    className: \"jsx-3153929447\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, date.date)) : __jsx(\"span\", {\n    className: \"jsx-3153929447\" + \" \" + 'loading',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })), __jsx(\"ul\", {\n    className: \"jsx-3153929447\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, users && users.map(function (user) {\n    return __jsx(\"li\", {\n      key: user.id,\n      className: \"jsx-3153929447\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/user/[id]\",\n      as: \"/user/\".concat(user.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"jsx-3153929447\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"User \".concat(user.id))));\n  })), __jsx(_JSXStyle, {\n    id: \"3153929447\",\n    __self: this\n  }, \".hero.jsx-3153929447{width:100%;color:#333;}.title.jsx-3153929447{margin:0;width:100%;padding-top:80px;line-height:1.15;font-size:48px;}.title.jsx-3153929447,.description.jsx-3153929447{text-align:center;}.row.jsx-3153929447{max-width:880px;margin:80px auto 40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}.date.jsx-3153929447{height:24px;max-width:calc(100% - 32px) text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:0 16px;}.date.jsx-3153929447 p.jsx-3153929447{text-align:center;}.date.jsx-3153929447 span.jsx-3153929447{width:176px;text-align:center;}@-webkit-keyframes Loading-jsx-3153929447{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}@keyframes Loading-jsx-3153929447{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}.date.jsx-3153929447 .loading.jsx-3153929447{max-width:100%;height:24px;border-radius:4px;display:inline-block;background:linear-gradient(270deg,#D1D1D1,#EAEAEA);background-size:200% 200%;-webkit-animation:Loading-jsx-3153929447 2s ease infinite;animation:Loading-jsx-3153929447 2s ease infinite;}.card.jsx-3153929447{padding:18px 18px 24px;width:220px;text-align:left;-webkit-text-decoration:none;text-decoration:none;color:#434343;border:1px solid #9b9b9b;}.card.jsx-3153929447:hover{border-color:#067df7;}.card.jsx-3153929447 h3.jsx-3153929447{margin:0;color:#067df7;font-size:18px;}.card.jsx-3153929447 p.jsx-3153929447{margin:0;padding:12px 0 0;font-size:13px;color:#333;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9HTVMvRGV2L25leHQvbmV3bmV4dC9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrRGtCLEFBR3NCLEFBSUYsQUFRUyxBQUdGLEFBT0osQUFTTSxBQUdOLEFBSWUsQUFDRyxBQUNELEFBR2QsQUFTUSxBQVFGLEFBR1osQUFLQSxTQS9ERSxBQTJERyxBQUtHLEVBcEVOLENBdUJPLEFBV0EsR0FTTixDQTVCVSxFQUh4QixBQW1CQSxFQTFCbUIsQ0F1RG5CLENBM0RBLENBbURjLEFBWUcsR0FLQSxDQWhDYSxBQUVFLEFBS1osRUFOYSxDQUhqQyxLQWtCa0IsRUEvQ0MsQ0FVSixBQWlEZixHQUthLElBekJVLE1BU0EsQ0FpQnZCLEVBaEVpQixJQWlCRixRQXNCd0MsR0F0Q3ZELGdDQStDZ0IsV0F0Q0ssR0F1Q00sRUFUQyxlQXRCUCxRQWdDckIsR0FUcUMsc0NBOUJOLDRDQVFOLDBCQXVCekIscURBOUJBLG9CQVFpQixlQUNqQiIsImZpbGUiOiIvVXNlcnMvR01TL0Rldi9uZXh0L25ld25leHQvcGFnZXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCdcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5pbXBvcnQgSGVhZCBmcm9tICcuLi9jb21wb25lbnRzL2hlYWQnXG5pbXBvcnQgTmF2IGZyb20gJy4uL2NvbXBvbmVudHMvbmF2J1xuXG5jb25zdCBUaXRsZSA9IHN0eWxlZC5oMWBcbiAgZm9udC1zaXplOiA1MHB4O1xuICBjb2xvcjogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMucHJpbWFyeX07XG5gXG5cbmNvbnN0IEluZGV4ID0gKHsgdXNlcnMgfSkgPT4ge1xuICBjb25zdCBbZGF0ZSwgc2V0RGF0ZV0gPSB1c2VTdGF0ZShudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0ZSgpIHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2RhdGUnKVxuICAgICAgY29uc3QgbmV3RGF0ZSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgIHNldERhdGUobmV3RGF0ZSlcbiAgICB9XG4gICAgZ2V0RGF0ZSgpXG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxUaXRsZT5XVSBUQU5HIOKZvu+4jzwvVGl0bGU+XG4gICAgICA8TGluayBocmVmPScvdG9kb3MnPlxuICAgICAgICA8YT5Ub2RvcyBQYWdlPC9hPlxuICAgICAgPC9MaW5rPlxuICAgICAgPHAgY2xhc3NOYW1lPSdyb3cgZGF0ZSc+XG4gICAgICAgIFRoZSBkYXRlIGlzOiZuYnNwO3snICd9XG4gICAgICAgIHtkYXRlID8gKFxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgPGI+e2RhdGUuZGF0ZX08L2I+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nbG9hZGluZyc+PC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9wPlxuICAgICAgPHVsPlxuICAgICAgICB7dXNlcnMgJiZcbiAgICAgICAgICB1c2Vycy5tYXAodXNlciA9PiAoXG4gICAgICAgICAgICA8bGkga2V5PXt1c2VyLmlkfT5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj0nL3VzZXIvW2lkXScgYXM9e2AvdXNlci8ke3VzZXIuaWR9YH0+XG4gICAgICAgICAgICAgICAgPGE+e2BVc2VyICR7dXNlci5pZH1gfTwvYT5cbiAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICApKX1cbiAgICAgIDwvdWw+XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC5oZXJvIHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgICAgfVxuICAgICAgICAudGl0bGUge1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBwYWRkaW5nLXRvcDogODBweDtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMS4xNTtcbiAgICAgICAgICBmb250LXNpemU6IDQ4cHg7XG4gICAgICAgIH1cbiAgICAgICAgLnRpdGxlLFxuICAgICAgICAuZGVzY3JpcHRpb24ge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAucm93IHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDg4MHB4O1xuICAgICAgICAgIG1hcmdpbjogODBweCBhdXRvIDQwcHg7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICB9XG4gICAgICAgIC5kYXRlIHtcbiAgICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAzMnB4KVxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgcGFkZGluZzogMCAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIC5kYXRlIHAge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAuZGF0ZSBzcGFuIHtcbiAgICAgICAgICB3aWR0aDogMTc2cHg7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIEBrZXlmcmFtZXMgTG9hZGluZyB7XG4gICAgICAgICAgMCV7YmFja2dyb3VuZC1wb3NpdGlvbjowJSA1MCV9XG4gICAgICAgICAgNTAle2JhY2tncm91bmQtcG9zaXRpb246MTAwJSA1MCV9XG4gICAgICAgICAgMTAwJXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAlIDUwJX1cbiAgICAgICAgfVxuICAgICAgICAuZGF0ZSAubG9hZGluZyB7XG4gICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgyNzBkZWcsICNEMUQxRDEsICNFQUVBRUEpO1xuICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogMjAwJSAyMDAlO1xuICAgICAgICAgIGFuaW1hdGlvbjogTG9hZGluZyAycyBlYXNlIGluZmluaXRlO1xuICAgICAgICB9XG4gICAgICAgIC5jYXJkIHtcbiAgICAgICAgICBwYWRkaW5nOiAxOHB4IDE4cHggMjRweDtcbiAgICAgICAgICB3aWR0aDogMjIwcHg7XG4gICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgY29sb3I6ICM0MzQzNDM7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzliOWI5YjtcbiAgICAgICAgfVxuICAgICAgICAuY2FyZDpob3ZlciB7XG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDY3ZGY3O1xuICAgICAgICB9XG4gICAgICAgIC5jYXJkIGgzIHtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgY29sb3I6ICMwNjdkZjc7XG4gICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICB9XG4gICAgICAgIC5jYXJkIHAge1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDAgMDtcbiAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgIH1cbiAgICAgIGB9PC9zdHlsZT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5JbmRleC5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoeyByZXEgfSkgPT4ge1xuICAvLyBjb25zdCBiYXNlVXJsID0gcmVxID8gYCR7cmVxLnByb3RvY29sfTovLyR7cmVxLmhlYWRlcnMuaG9zdH1gIDogJydcbiAgLy8gY29uc3QgYmFzZVVybCA9IHJlcSA/IGAke3JlcS5oZWFkZXJzLnJlZmVyZXJ9YCA6ICcnXG4gIGNvbnN0IHByb3RvY29sID0gcmVxID8gcmVxLmhlYWRlcnNbJ3gtZm9yd2FyZGVkLXByb3RvJ10gfHwgJ2h0dHAnIDogJydcbiAgY29uc3QgYmFzZVVybCA9IHJlcSA/IGAke3Byb3RvY29sfTovLyR7cmVxLmhlYWRlcnMuaG9zdH1gIDogJydcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsICsgJy9hcGkvdXNlcnMnfWApXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgcmV0dXJuIHsgdXNlcnMgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbmRleFxuIl19 */\\n/*@ sourceURL=/Users/GMS/Dev/next/newnext/pages/index.js */\"));\n};\n\nIndex.getInitialProps = function _callee(_ref3) {\n  var req, protocol, baseUrl, response, users;\n  return _regeneratorRuntime.async(function _callee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          req = _ref3.req;\n          // const baseUrl = req ? `${req.protocol}://${req.headers.host}` : ''\n          // const baseUrl = req ? `${req.headers.referer}` : ''\n          protocol = req ? req.headers['x-forwarded-proto'] || 'http' : '';\n          baseUrl = req ? \"\".concat(protocol, \"://\").concat(req.headers.host) : '';\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(fetch(\"\".concat(baseUrl + '/api/users')));\n\n        case 5:\n          response = _context2.sent;\n          _context2.next = 8;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 8:\n          users = _context2.sent;\n          return _context2.abrupt(\"return\", {\n            users: users\n          });\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/GMS/Dev/next/newnext/pages/index.js"],"names":["React","useEffect","useState","Link","fetch","styled","Head","Nav","Title","h1","theme","colors","primary","Index","users","date","setDate","getDate","res","json","newDate","map","user","id","getInitialProps","req","protocol","headers","baseUrl","host","response"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Link from 'next/link'\nimport fetch from 'isomorphic-unfetch'\nimport styled from 'styled-components'\nimport Head from '../components/head'\nimport Nav from '../components/nav'\n\nconst Title = styled.h1`\n  font-size: 50px;\n  color: ${({ theme }) => theme.colors.primary};\n`\n\nconst Index = ({ users }) => {\n  const [date, setDate] = useState(null)\n\n  useEffect(() => {\n    async function getDate() {\n      const res = await fetch('/api/date')\n      const newDate = await res.json()\n      setDate(newDate)\n    }\n    getDate()\n  }, [])\n\n  return (\n    <div>\n      <Title>WU TANG ♾️</Title>\n      <Link href='/todos'>\n        <a>Todos Page</a>\n      </Link>\n      <p className='row date'>\n        The date is:&nbsp;{' '}\n        {date ? (\n          <span>\n            <b>{date.date}</b>\n          </span>\n        ) : (\n          <span className='loading'></span>\n        )}\n      </p>\n      <ul>\n        {users &&\n          users.map(user => (\n            <li key={user.id}>\n              <Link href='/user/[id]' as={`/user/${user.id}`}>\n                <a>{`User ${user.id}`}</a>\n              </Link>\n            </li>\n          ))}\n      </ul>\n      <style jsx>{`\n        .hero {\n          width: 100%;\n          color: #333;\n        }\n        .title {\n          margin: 0;\n          width: 100%;\n          padding-top: 80px;\n          line-height: 1.15;\n          font-size: 48px;\n        }\n        .title,\n        .description {\n          text-align: center;\n        }\n        .row {\n          max-width: 880px;\n          margin: 80px auto 40px;\n          display: flex;\n          flex-direction: row;\n          justify-content: space-around;\n        }\n        .date {\n          height: 24px;\n          max-width: calc(100% - 32px)\n          text-align: center;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 0 16px;\n        }\n        .date p {\n          text-align: center;\n        }\n        .date span {\n          width: 176px;\n          text-align: center;\n        }\n        @keyframes Loading {\n          0%{background-position:0% 50%}\n          50%{background-position:100% 50%}\n          100%{background-position:0% 50%}\n        }\n        .date .loading {\n          max-width: 100%;\n          height: 24px;\n          border-radius: 4px;\n          display: inline-block;\n          background: linear-gradient(270deg, #D1D1D1, #EAEAEA);\n          background-size: 200% 200%;\n          animation: Loading 2s ease infinite;\n        }\n        .card {\n          padding: 18px 18px 24px;\n          width: 220px;\n          text-align: left;\n          text-decoration: none;\n          color: #434343;\n          border: 1px solid #9b9b9b;\n        }\n        .card:hover {\n          border-color: #067df7;\n        }\n        .card h3 {\n          margin: 0;\n          color: #067df7;\n          font-size: 18px;\n        }\n        .card p {\n          margin: 0;\n          padding: 12px 0 0;\n          font-size: 13px;\n          color: #333;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nIndex.getInitialProps = async ({ req }) => {\n  // const baseUrl = req ? `${req.protocol}://${req.headers.host}` : ''\n  // const baseUrl = req ? `${req.headers.referer}` : ''\n  const protocol = req ? req.headers['x-forwarded-proto'] || 'http' : ''\n  const baseUrl = req ? `${protocol}://${req.headers.host}` : ''\n  const response = await fetch(`${baseUrl + '/api/users'}`)\n  const users = await response.json()\n\n  return { users }\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}